# 商户管理

## 商户主营类目 {需求变更：商户分类实际是商户主营类目 ,此处可以省略单独建表维护,可以根据商品分类一级和二级甚至三级来作为商户类目【在商品分类管理单独增加一个主营类目接口返回】}

示例数据：服装类，休闲，数码，珠宝，海鲜，陶艺，花卉，电子，3C，汽车，文玩，文墨，副食，粮油，玩具，电器，软件*

## 店铺类型

**宗旨**：商户和店铺一对一，此配置以店铺为中心出具配置和使用数据规范

多商户的商城类似于现在的京东，能看到的有**旗舰店，特约店**等等，是对店铺维度的管理和配置。平台维护店铺类型，为创建商户时对商户店铺管理创造治理条款

*示例数据：平台自营店铺,旗舰店，厂家直营，加盟店，星级加盟，连锁店*

**功能按钮** **创建**：创建时检测店铺类型唯一

**列表**：筛选参数：id，店铺类型名称（模糊搜索），店铺描述（模糊搜索），创建时间范围。因表字段不多，列表直接展示全部字段，需要有详情接口，再编辑和删除之前必须调用详情接口后操作，以免数据不是最新出现困惑。

​	**编辑**：编辑前判断待编辑店铺类型名称唯一，唯一则更新数据，不唯一给出提示后不得更新

​	**删除**：删除前检查关联关系，不存在关联弹窗确认后直接删除，存在关联关系则需要提示，需要解除关系后再删除。

## 商户入驻申请  {需求变更-->参照:https://www.woshipm.com/pd/5675407.html/comment-page-1}

**宗旨**：成为商户的一种途径，可以从商城端以及平台端直接创建提交申请，申请成为商户。

申请列表：筛选：申请时间范围，审核状态（全部，待审核，通过，驳回）。列表数据全部展示，在执行审核操作时必须调用详情接口后再操作，以免数据不是最新导致困扰。

**申请和审核操作：**

1. 移动端通过金刚区或者我的服务中的入口配置，根据申请商户表填写对应数据和资质新增一条审核记录。
   1. 查看数据权限：该审核记录当前提交的审核人可以查看，通过和驳回有状态，
      1. **通过**：被平台操作通过，查看短信收到的登录地址，帐号和初始化密码
      2. **被驳回**：可以继续在当前入驻申请记录上编辑，再次提审。
   2. 审核数据权限：平台根据业务操作审核状态，通过或者驳回
      1. **通过**：根据业务判断通过后系统会自动发送短信给入驻提交者，帐号和初始化密码等简单介绍和问候语。
      2. **驳回**：平台根据业务判断驳回时需要填写驳回理由。
2. 平台直接创建商户，相当于平台用商户的信息直接创建了商户店铺，此处相当于走了上面的入驻申请后自动审核通过的操作，同样保存申请记录和审核通过的状态节点，再发送短信给商户。

## 商户列表

**宗旨**：平台全视角根据时间，店铺类别，商户分类，店铺类型等参数来查询正在营业和已关闭的商户列表。

**筛选**：时间组件，商户名称，商户类别，店铺类型

**功能操作**：添加商户

**商户列表**：

​	开业商户：已经通过申请后正常开启，正在营业的商户列表，可以操作商户状态，是否推荐到首页，详情，编辑，修改手机号码，重置商户密码。

​	待开业商户：未开启或者商户自己注销，以及平台手动关闭的商户列表。<u>**商户重新开启这里暂时不做审核限制。**</u>

​		开启商户时需要校验商户的基础信息和收款信息均已配置才可以开启，**<u>校验字段有，店铺地址，结算银行信息</u>**

## 商户菜单管理

结合satoken的优越机制，平台创建一个角色类型作为商户菜单模型，分别有商户管理员，商户营销，商户上货，商户xxx

发挥强大的配置关系，动态调整和区分每个商户的菜单，有如下建议：

商户的角色和商户星级挂钩，

